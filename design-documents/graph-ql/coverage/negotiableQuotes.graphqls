type Mutation {
    recalculateNegotiableQuotePrices(
        quote_ids: [String]!
    ): RecalculateNegotiableQuotePricesOutput! @doc(description:" This call refreshes item prices, taxes, discounts, cart rules in the negotiable quote. Quotes that are locked for the seller will not be updated.")

    requestNegotiableQuote(
        negotiableQuote: NegotiableQuoteRequestInput!
    ): RequestNegotiableQuoteOutput! @doc(description:"Generates negotiable quote request")

    setShippingMethodsOnNegotiableQuote(
        negotiableQuoteShippingMethod: NegotiableQuoteShippingMethodInput!
    ): setShippingMethodsOnNegotiableQuoteOutput @doc(description:"Set negotiable quote shipping method")
}

type Customer {
    negotiable_quote (
        id: ID!): NegotiableQuote @doc(description: "Get negotiable quote of a customer")

    negotiable_quotes(
        page_size: Int = 20,
        current_page: Int = 1,
        filter: NegotiableQuoteFilterInput
    ): [NegotiableQuote] @doc(description: "Get negotiable quotes of a customer")

    estimateShippingCostForNegotiableQuote(
        address: NegotiableQuoteShipAddressInput!
    ): [ShippingMethodsOutput]! @doc(description:"Estimate shipping costs for a negotiable quote")

    estimateShippingCostByAddressIdForNegotiableQuote(
        address_id: String!
    ): [ShippingMethodsOutput]! @doc(description:"Estimate shipping costs for a negotiable quote by Address ID")

    estimateShippingInformationForNegotiableQuote(
        address_info: NegotiableQuoteAddressInformationInput!
    ): NegotiableQuotePaymentInfo! @doc(description:"Get payment options and the order totals by address and shipping info")
}

type NegotiableQuote {
    items: [NegotiableQuoteItem] @doc(description: "Negotiable quote item")
    billing_address: BillingAddress @doc(description: "Billing address of negotiable quote")
    attachements: [AttachmentContent] @doc(description: "Negotiable quote Attachements")
    comments: [NegotiableQuoteComment] @doc(description: "Negotiable quote comments")
    totals: TotalsOutput! @doc(description: "Negotiable quote totals output")
    payment_info: NegotiableQuotePaymentInfo! @doc(description: "Negotiable quote payment info.")
    available_payment_methods: [AvailablePaymentMethod] @doc(description: "Available payment methods")
}

input NegotiableQuoteFilterInput {
    ids: FilterEqualTypeInput @doc(description: "Filter Customer Negotiable quotes with an negotiable quote ID or list of negotiable quote IDs")
    name: FilterMatchTypeInput @doc(description: "Filter by display name of the negotiable quote")
}

type NegotiableQuoteItem {
    id: String!
    quantity: Float!
    product: ProductInterface!
}

type BillingAddress {
    id: ID! @doc(description: "The ID of the billing address")
    firstname: String @doc(description: "The first name of the person associated with the billing address")
    lastname: String @doc(description: "The family name of the person associated with the billing address")
    customer_id: String @doc(description: "The customer ID")
    email: String @doc(description: "The customer email id")
    company: String @doc(description: "The customer's company")
    telephone: String @doc(description: "The telephone number")
    street: [String] @doc(description: "A list of strings that define the street number and name")
    city: String @doc(description: "The city or town")
    region: String @doc(description: "The region name")
    region_id: String @doc(description: "The region ID")
    region_code: String @doc(description: "The region code")
    postcode: String @doc(description: "The customer's ZIP or postal code")
    country_code: String @doc(description: "The country code")
    same_as_billing: Int @doc(description: "Billing address confirmation")
    save_in_address_book: Int @doc(description: "Save billing address in address book")
}

type AttachmentContent @doc(description: "Negotiable quote attachment file") {
    base64_encoded_data: String!
    mime_type: String!
    name: String!
}

type NegotiableQuoteComment {
    entity_id: ID!
    parent_id: ID!
    creator_type: Int
    is_decline: Int
    is_draft: Int
    creator_id: ID!
    comment: String
    created_at: String
    attachments: [NegotiableQuoteCommentAttachments]
}

type NegotiableQuoteCommentAttachments {
    attachment_id: ID!
    comment_id: ID
    file_name: String
    file_path: String
    file_type: String
}

type NegotiableQuotePaymentInfo {
    payment_methods: [PaymentMethodsOutput]! @doc(description: "All list of payment options and totals")
    totals: TotalsOutput! @doc(description: "List of totals")
}

type AvailablePaymentMethod {
    code: String! @doc(description: "The payment method code")
    title: String! @doc(description: "The payment method title.")
}

type PaymentMethodsOutput {
    code: String @doc(description: "Payment method code")
    title: String @doc(description: "Payment method title")
}

type TotalsOutput {
    grand_total: Money
    subtotal_including_tax: Money
    subtotal_excluding_tax: Money
    discount: CartDiscount
    subtotal_with_discount_excluding_tax: Money
    applied_taxes: [CartTaxItem]
}

type CartTaxItem {
    amount: Money!
    label: String!
}

type CartDiscount {
    amount: Money!
    label: [String!]!
}

input NegotiableQuoteRequestInput {
    quote_id: String! @doc(description: "Quote hash")
    quote_name: String @doc(description: "Quote name")
    comment: String @doc(description: "Comment")
    files: [FileInput] @doc(description: "Attached files")
}

type RequestNegotiableQuoteOutput {
    negotiable_quote:NegotiableQuote!
}

input FileInput @doc(description: "The list of file attachment codes") {
    base64_encoded_data: String!
    mime_type: String!
    name: String!
}

type RecalculateNegotiableQuotePricesOutput{
    negotiable_quote:NegotiableQuote
    price_updated: Boolean!
}

input NegotiableQuoteShipAddressInput {
    firstname: String! @doc(description: "The first name of the person associated with the billing address")
    lastname: String! @doc(description: "The family name of the person associated with the billing address")
    telephone: String! @doc(description: "The telephone number")
    street: [String]! @doc(description: "A list of strings that define the street number and name")
    city: String! @doc(description: "The city or town")
    region: String! @doc(description: "The region name")
    region_id: Int @doc(description: "The region ID")
    postcode: String! @doc(description: "The customer's ZIP or postal code")
    country_code: String! @doc(description: "The country code")
}

type ShippingMethodsOutput {
    carrier_code: String @doc(description: "Shipping carrier code")
    method_code: String @doc(description: "Shipping method code")
    carrier_title: String @doc(description: "Shiping carrier title")
    method_title: String @doc(description: "Shipping method title")
    amount: String @doc(description: "Shipping amount")
    base_amount: String @doc(description: "Shipping base amount")
    available: String @doc(description: "Shipping method availble")
    error_message: String @doc(description: "Shipping method error message")
    price_excl_tax: String @doc(description: "Shipping method price with exclusive tax")
    price_incl_tax: String @doc(description: "Shipping method price with inclusive tax")
}

input NegotiableQuoteAddressInformationInput {
    shipping_address: NegotiableQuoteShipAddressInput @doc(description: "Shipping address assigned to negotiable quote")
    billing_address: NegotiableQuoteBillAddressInput @doc(description: "Billing address assigned to negotiable quote")
    shipping_carrier_code: String! @doc(description: "Shipping carrier code")
    shipping_method_code: String! @doc(description: "Shipping method code")
}

input NegotiableQuoteBillAddressInput {
    firstname: String! @doc(description: "The first name of the person associated with the billing address")
    lastname: String! @doc(description: "The family name of the person associated with the billing address")
    telephone: String! @doc(description: "The telephone number")
    street: [String]! @doc(description: "A list of strings that define the street number and name")
    city: String! @doc(description: "The city or town")
    region: String! @doc(description: "The region name")
    region_id: Int @doc(description: "The region ID")
    postcode: String! @doc(description: "The customer's ZIP or postal code")
    country_code: String! @doc(description: "The country code")
}

input NegotiableQuoteShippingMethodInput {
    quote_id: String! @doc(description: "Quote hash")
    shipping_method: String @doc(description: "Input for shipping method")
}

type setShippingMethodsOnNegotiableQuoteOutput {
    shipping_method_set: Boolean!
}
